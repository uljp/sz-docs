(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{328:function(t,s,a){"use strict";a.r(s);var n=a(14),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"å‰è¨€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),s("p",[t._v("å‰ç«¯æŠ€æœ¯å‘å±•æ—¥æ–°æœˆå¼‚ï¼Œå„ç§æŠ€æœ¯æ¡†æ¶è®©äººçœ¼èŠ±ç¼­ä¹±ï¼Œå¤§å¤šæ•°æ—¶é—´æˆ‘ä»¬åªéœ€è¦å…³æ³¨ä¸šåŠ¡ï¼Œå¦‚ä½•ä½¿ç”¨æ˜¯æˆ‘ä»¬çš„ä¸»è¦ä»»åŠ¡ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æ·±å…¥å­¦ä¹ ï¼Œå°±ä¼šå‘ç°æ°¸è¿œç»•ä¸å¼€ä¸€ä¸ªä¸“ä¸šåè¯ æŠ½è±¡è¯­æ³•æ ‘ï¼ˆAbstract Syntax Treeï¼‰ï¼Œç®€ç§°ASTï¼Œé‚£ä¹ˆæˆ‘ä»¬ä»Šå¤©å°±æ¥ç›˜ä¸€ç›˜å®ƒã€‚")]),t._v(" "),s("p",[t._v("é˜…è¯»æ–‡ç« ä¹‹å‰ï¼Œä¸å¦¨æ‰“å¼€æ‰‹å¤´é¡¹ç›®ä¸­çš„ "),s("code",[t._v("package.json")]),t._v(" ï¼Œæˆ‘ä»¬ä¼šå‘ç°ä¼—å¤šå·¥å…·å·²ç»å æ®äº†æˆ‘ä»¬å¼€å‘æ—¥å¸¸çš„å„ä¸ªè§’è½ï¼Œä¾‹å¦‚ JavaScript è½¬è¯‘ã€CSS é¢„å¤„ç†ã€ä»£ç å‹ç¼©ã€ESLintã€Prettierç­‰ç­‰ã€‚è¿™äº›å·¥å…·æ¨¡å—å¤§éƒ½ä¸ä¼šäº¤ä»˜åˆ°ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä½†å®ƒä»¬çš„å­˜åœ¨äºæˆ‘ä»¬çš„å¼€å‘è€Œè¨€æ˜¯ä¸å¯æˆ–ç¼ºçš„ã€‚")]),t._v(" "),s("p",[t._v("æœ‰æ²¡æœ‰æƒ³è¿‡è¿™äº›å·¥å…·çš„åŠŸèƒ½æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿæ²¡é”™ï¼ŒæŠ½è±¡è¯­æ³•æ ‘ (Abstract Syntax Tree) å°±æ˜¯ä¸Šè¿°å·¥å…·çš„åŸºçŸ³ã€‚")]),t._v(" "),s("p",[t._v("åœ¨JavaScriptä¸–ç•Œä¸­ï¼Œä½ å¯ä»¥è®¤ä¸ºæŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰æ˜¯æœ€åº•å±‚ã€‚ å†å¾€ä¸‹ï¼Œå°±æ˜¯å…³äºè½¬æ¢å’Œç¼–è¯‘çš„â€œé»‘é­”æ³•â€é¢†åŸŸäº†ã€‚")]),t._v(" "),s("h2",{attrs:{id:"æŠ½è±¡è¯­æ³•æ ‘çš„ç”¨é€”"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æŠ½è±¡è¯­æ³•æ ‘çš„ç”¨é€”"}},[t._v("#")]),t._v(" æŠ½è±¡è¯­æ³•æ ‘çš„ç”¨é€”")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("ä»£ç è¯­æ³•çš„æ£€æŸ¥ã€ä»£ç é£æ ¼çš„æ£€æŸ¥ã€ä»£ç æ ¼å¼åŒ–ã€ä»£ç é«˜äº®ã€ä»£ç é”™è¯¯æç¤ºã€ä»£ç è‡ªåŠ¨è¡¥å…¨ç­‰\nå¦‚JSLintã€JSHintå¯¹ä»£ç é”™è¯¯æˆ–é£æ ¼çš„æ£€æŸ¥ï¼Œå‘ç°ä¸€äº›æ½œåœ¨é”™è¯¯\nIDEçš„é”™è¯¯æç¤ºã€æ ¼å¼åŒ–ã€é«˜äº®ã€è‡ªåŠ¨è¡¥å…¨ç­‰")])]),t._v(" "),s("li",[s("p",[t._v("ä»£ç æ··æ·†å‹ç¼©\nUglifyJS2ç­‰")])]),t._v(" "),s("li",[s("p",[t._v("ä¼˜åŒ–å˜æ›´ä»£ç ï¼Œæ”¹å˜ä»£ç ç»“æ„ä½¿å…¶è¾¾åˆ°æƒ³è¦çš„ç»“æ„\nä»£ç æ‰“åŒ…å·¥å…·Webpackã€Rollupç­‰\nCommonJSã€AMDã€CMDã€UMDç­‰ä»£ç è§„èŒƒä¹‹é—´çš„è½¬åŒ–\nCoffeeScriptã€TypeScriptã€JSXç­‰è½¬åŒ–ä¸ºåŸç”ŸJavaScript")])])]),t._v(" "),s("h2",{attrs:{id:"æŠ½è±¡è¯­æ³•æ ‘ä½•è®¸ä¸œè¥¿ä¹Ÿ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æŠ½è±¡è¯­æ³•æ ‘ä½•è®¸ä¸œè¥¿ä¹Ÿ"}},[t._v("#")]),t._v(" æŠ½è±¡è¯­æ³•æ ‘ä½•è®¸ä¸œè¥¿ä¹Ÿ")]),t._v(" "),s("p",[t._v("å®˜æ–¹çš„è§£é‡Šï¼š")]),t._v(" "),s("blockquote",[s("p",[t._v("åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒæŠ½è±¡è¯­æ³•æ ‘ï¼ˆabstract syntax tree æˆ–è€…ç¼©å†™ä¸º ASTï¼‰ï¼Œæˆ–è€…è¯­æ³•æ ‘ï¼ˆsyntax treeï¼‰ï¼Œæ˜¯æºä»£ç çš„æŠ½è±¡è¯­æ³•ç»“æ„çš„æ ‘çŠ¶è¡¨ç°å½¢å¼ï¼Œè¿™é‡Œç‰¹æŒ‡ç¼–ç¨‹è¯­è¨€çš„æºä»£ç ã€‚")])]),t._v(" "),s("p",[t._v("ç»´åŸºç™¾ç§‘çš„å®šä¹‰ï¼š")]),t._v(" "),s("blockquote",[s("p",[t._v("åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒæŠ½è±¡è¯­æ³•æ ‘ï¼ˆAbstract Syntax Treeï¼ŒASTï¼‰ï¼Œæˆ–ç®€ç§°è¯­æ³•æ ‘ï¼ˆSyntax treeï¼‰ï¼Œæ˜¯æºä»£ç è¯­æ³•ç»“æ„çš„ä¸€ç§æŠ½è±¡è¡¨ç¤ºã€‚å®ƒä»¥æ ‘çŠ¶çš„å½¢å¼è¡¨ç°ç¼–ç¨‹è¯­è¨€çš„è¯­æ³•ç»“æ„ï¼Œæ ‘ä¸Šçš„æ¯ä¸ªèŠ‚ç‚¹éƒ½è¡¨ç¤ºæºä»£ç ä¸­çš„ä¸€ç§ç»“æ„ã€‚ä¹‹æ‰€ä»¥è¯´è¯­æ³•æ˜¯â€œæŠ½è±¡â€çš„ï¼Œæ˜¯å› ä¸ºè¿™é‡Œçš„è¯­æ³•å¹¶ä¸ä¼šè¡¨ç¤ºå‡ºçœŸå®è¯­æ³•ä¸­å‡ºç°çš„æ¯ä¸ªç»†èŠ‚ã€‚æ¯”å¦‚ï¼ŒåµŒå¥—æ‹¬å·è¢«éšå«åœ¨æ ‘çš„ç»“æ„ä¸­ï¼Œå¹¶æ²¡æœ‰ä»¥èŠ‚ç‚¹çš„å½¢å¼å‘ˆç°ï¼›è€Œç±»ä¼¼äº if-condition-then è¿™æ ·çš„æ¡ä»¶è·³è½¬è¯­å¥ï¼Œå¯ä»¥ä½¿ç”¨å¸¦æœ‰ä¸‰ä¸ªåˆ†æ”¯çš„èŠ‚ç‚¹æ¥è¡¨ç¤ºã€‚")])]),t._v(" "),s("p",[t._v("æ ¹æ®ä»¥ä¸Šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ASTå…¶å®å°±æ˜¯è®¡ç®—æœºè¯­è¨€è¯­æ³•ç»“æ„çš„æè¿°ï¼Œé‚£ä¹Ÿå°±æ˜¯è¯´ä½ æ‰€ç†ŸçŸ¥çš„è¯­è¨€JavaScriptã€Javaã€pythonã€Htmlç”šè‡³Csséƒ½éœ€è¦åˆ°ASTè¿™é‡Œèµ°ä¸€é­ï¼Œæ‰€ä»¥è¶³ä»¥çœ‹å‡ºASTçš„é‡è¦æ€§ã€‚è®²è¿™ä¹ˆå¤šåªæ˜¯è®©å¤§å®¶å¯¹ASTçš„é‡è¦æ€§æœ‰ä¸ªè¶³å¤Ÿçš„è®¤è¯†ï¼Œé‚£å®ƒå…·ä½“æ˜¯ä»€ä¹ˆä¸œè¥¿æˆ‘ä»¬è¿˜éœ€è¦æ¥çœ‹ä¸€ä¸‹ã€‚")]),t._v(" "),s("p",[t._v("ASTå…¶å®æ˜¯å¯¹æˆ‘ä»¬æ¥è®²åªæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒæ— å…³ä¹è¯­æ³•ç»“æ„ï¼Œä¸ä¼šè®°å½•æºè¯­è¨€çœŸå®è¯­æ³•ä¸­çš„æ¯ä¸ªç»†èŠ‚ï¼ˆæ¯”å¦‚çœç•¥åˆ†éš”ç¬¦ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯åå­—ä¸­æŠ½è±¡ä¸€è¯çš„ç”±æ¥ï¼Œä¸ä¹‹ç›¸å¯¹åº”çš„å…¶å®è¿˜æœ‰å¦ä¸€ç§æ ‘ï¼Œå…·è±¡è¯­æ³•æ ‘ï¼ˆConcret Syntax Treeï¼‰ï¼Œç®€ç§°CSTï¼Œå®ƒç”±ä»£ç ç›´æ¥ç¿»è¯‘è§£æè€Œæ¥ï¼Œå› è€Œä¿ç•™äº†åŸè¯­æ³•çš„æ‰€æœ‰ä¿¡æ¯ï¼Œä¹Ÿè¢«ç§°ä¹‹ä¸ºè§£ææ ‘ã€‚")]),t._v(" "),s("p",[t._v("ä¸ºä»€ä¹ˆè¦å»è§£ææºä»£ç æˆä¸€ä¸ªé€šç”¨å¯¹è±¡å‘¢ï¼Ÿå„ç§è¯­è¨€è¯­æ³•ç§ç±»ç¹å¤šï¼Œä½†æ˜¯è®¡ç®—æœºæ˜¯æ— æ³•è¯†åˆ«æˆ‘ä»¬å†™çš„ä»£ç çš„ï¼Œæ‰€ä»¥å°±éœ€è¦ä¸€ç§é€šç”¨çš„æ•°æ®ç»“æ„æ¥æè¿°ï¼Œé‚£ASTå…¶å®å°±æ˜¯é‚£ä¸ªä¸œè¥¿ã€‚åŒæ—¶ï¼Œå› ä¸ºASTæ˜¯çœŸå®å­˜åœ¨ä¸”å­˜åœ¨ä¸€å®šé€»è¾‘çš„ï¼Œé‚£æˆ‘ä»¬ä¹Ÿå°±å¯ä»¥åœ¨ASTä¸Šåšç‚¹æ–‡ç« ï¼Œæç‚¹èŠ±æ´»ï¼šï¼‰")]),t._v(" "),s("h2",{attrs:{id:"æŠ½è±¡è¯­æ³•æ ‘å¦‚ä½•ç”Ÿæˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æŠ½è±¡è¯­æ³•æ ‘å¦‚ä½•ç”Ÿæˆ"}},[t._v("#")]),t._v(" æŠ½è±¡è¯­æ³•æ ‘å¦‚ä½•ç”Ÿæˆ")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pan.udolphin.com/files/image/2021/11/c7f8ebcc1fdd287e890261a466c50f2b.png",alt:"image.png"}})]),t._v(" "),s("h3",{attrs:{id:"js-parser-è§£æå™¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js-parser-è§£æå™¨"}},[t._v("#")]),t._v(" JS Parser(è§£æå™¨)")]),t._v(" "),s("p",[t._v("å°†JavaScriptæºç è½¬åŒ–ä¸ºæŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰çš„å·¥å…·å«åšJS Parserè§£æå™¨")]),t._v(" "),s("p",[t._v("å¸¸è§çš„JS Parseræœ‰ï¼š")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/mishoo/UglifyJS2",target:"_blank",rel:"noopener noreferrer"}},[t._v("UglifyJS"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/jquery/esprima",target:"_blank",rel:"noopener noreferrer"}},[t._v("esprima"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/eslint/espree",target:"_blank",rel:"noopener noreferrer"}},[t._v("espree"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/acornjs/acorn",target:"_blank",rel:"noopener noreferrer"}},[t._v("acorn"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/babel/babel/tree/master/packages/babel-parser",target:"_blank",rel:"noopener noreferrer"}},[t._v("babel-parser"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("è¿™ä¸ªæ­¥éª¤åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š\n"),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Lexical_analysis",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¯æ³•åˆ†æï¼ˆLexical Analysisï¼‰"),s("OutboundLink")],1),t._v(" å’Œ"),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Parsing",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¯­æ³•åˆ†æï¼ˆSyntactic Analysisï¼‰"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"è¯æ³•åˆ†æ-lexical-analysis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¯æ³•åˆ†æ-lexical-analysis"}},[t._v("#")]),t._v(" è¯æ³•åˆ†æ(Lexical Analysis)")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pan.udolphin.com/files/image/2021/11/f6be2278a8722443e9e3523384c563aa.gif",alt:"ispanda.gif"}})]),t._v(" "),s("p",[t._v("è§£æå™¨ä¼šä»å·¦åˆ°å³æ‰«ææ–‡æœ¬ï¼ŒæŠŠæ–‡æœ¬æ‹†æˆä¸€äº›å•è¯ã€‚ç„¶åï¼Œè¿™äº›å•è¯ä¼ å…¥åˆ†è¯å™¨ï¼Œç»è¿‡ä¸€ç³»åˆ—çš„è¯†åˆ«å™¨ï¼ˆå…³é”®å­—è¯†åˆ«å™¨ã€æ ‡è¯†ç¬¦è¯†åˆ«å™¨ã€å¸¸é‡è¯†åˆ«å™¨ã€æ“ä½œç¬¦è¯†åˆ«å™¨ç­‰ï¼‰ï¼Œç¡®å®šè¿™äº›å•è¯çš„è¯æ€§ï¼Œè¿™ä¸€è¿‡ç¨‹çš„äº§ç‰©æ˜¯"),s("code",[t._v("token")]),t._v("ï¼ˆåˆå«è¯æ³•å•å…ƒï¼‰åºåˆ—ã€‚"),s("code",[t._v("token")]),t._v("åœ¨æœºå†…ä¸€èˆ¬ç”¨"),s("code",[t._v("<type, value>")]),t._v("å½¢ä¼¼çš„äºŒå…ƒç»„æ¥è¡¨ç¤ºï¼Œ"),s("code",[t._v("type")]),t._v("è¡¨ç¤ºä¸€ä¸ªå•è¯ç§ç±»ï¼Œ"),s("code",[t._v("value")]),t._v("ä¸ºå±æ€§å€¼ã€‚")]),t._v(" "),s("p",[t._v("ä½ å¯ä»¥æŠŠè¿™æƒ³è±¡æˆä½ æŠŠä¸€ä¸ªæ–‡æœ¬åˆ†æˆå‡ ä¸ªè¯ã€‚æ‚¨å¯èƒ½èƒ½å¤ŸåŒºåˆ†æ ‡ç‚¹ç¬¦å·ã€åŠ¨è¯ã€åè¯ã€æ•°å­—ç­‰ã€‚")]),t._v(" "),s("p",[t._v("JSä¸­çš„è¯­æ³•å•å…ƒï¼ˆtokenï¼‰ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("æ ‡è¯†ç¬¦ï¼š\næ²¡æœ‰è¢«å¼•å·æ‹¬èµ·æ¥çš„è¿ç»­å­—ç¬¦ï¼Œå¯ä»¥åŒ…å«å­—æ¯ã€æ•°å­—ã€_ã€$ï¼Œå…¶ä¸­æ•°å­—ä¸èƒ½ä½œä¸ºå¼€å¤´ã€‚\næ ‡è¯†ç¬¦å¯èƒ½æ˜¯varï¼Œreturnï¼Œfunctionç­‰å…³é”®å­—ï¼Œä¹Ÿå¯èƒ½æ˜¯trueï¼Œfalseè¿™æ ·çš„å†…ç½®å¸¸é‡ï¼Œæˆ–æ˜¯ä¸€ä¸ªå˜é‡ã€‚å…·ä½“æ˜¯å“ªç§è¯­ä¹‰ï¼Œåˆ†è¯é˜¶æ®µä¸åŒºåˆ†ï¼Œåªè¦æ­£ç¡®æ‹†åˆ†å³å¯ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("æ•°å­—ï¼š\nåå…­è¿›åˆ¶ï¼Œåè¿›åˆ¶ï¼Œå…«è¿›åˆ¶ä»¥åŠç§‘å­¦è¡¨è¾¾å¼ç­‰éƒ½æ˜¯æœ€å°å•å…ƒã€‚")])]),t._v(" "),s("li",[s("p",[t._v("è¿ç®—ç¬¦ï¼š +ã€-ã€ *ã€/ ç­‰ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("å­—ç¬¦ä¸²ï¼š å¯¹è®¡ç®—æœºè€Œè¨€ï¼Œå­—ç¬¦ä¸²åªä¼šå‚ä¸è®¡ç®—å’Œå±•ç¤ºï¼Œå…·ä½“é‡Œé¢ç»†åˆ†æ²¡å¿…è¦åˆ†æã€‚")])]),t._v(" "),s("li",[s("p",[t._v("æ³¨é‡Šï¼š  ä¸ç®¡æ˜¯è¡Œæ³¨é‡Šè¿˜æ˜¯å—æ³¨é‡Šï¼Œå¯¹äºè®¡ç®—æœºæ¥è¯´å¹¶ä¸å…³å¿ƒå…¶å†…å®¹ï¼Œæ‰€ä»¥å¯ä»¥ä½œä¸ºä¸å¯å†æ‹†åˆ†çš„æœ€å°å•å…ƒã€‚")])]),t._v(" "),s("li",[s("p",[t._v("ç©ºæ ¼ï¼š è¿ç»­çš„ç©ºæ ¼ï¼Œæ¢è¡Œï¼Œç¼©è¿›ç­‰ï¼Œåªè¦ä¸åœ¨å­—ç¬¦ä¸²ä¸­éƒ½æ²¡æœ‰å®é™…çš„é€»è¾‘æ„ä¹‰ï¼Œæ‰€ä»¥è¿ç»­çš„ç©ºæ ¼å¯ä»¥ä½œä¸ºä¸€ä¸ªè¯­æ³•å•å…ƒã€‚")])]),t._v(" "),s("li",[s("p",[t._v("å…¶å®ƒï¼šå¤§æ‹¬å·ï¼Œä¸­æ‹¬å·ï¼Œå°æ‹¬å·ï¼Œå†’å· ç­‰ç­‰ã€‚")])])]),t._v(" "),s("h3",{attrs:{id:"è¯­æ³•åˆ†æ-syntax-analysis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¯­æ³•åˆ†æ-syntax-analysis"}},[t._v("#")]),t._v(" è¯­æ³•åˆ†æ(Syntax Analysis)")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pan.udolphin.com/files/image/2021/11/8e5aaafd5ba3f259cf6c62b390748f71.gif",alt:"ast.gif"}}),t._v("\nåˆ†è¯é˜¶æ®µå®Œæˆä»¥åï¼Œtokenåºåˆ—ä¼šç»è¿‡æˆ‘ä»¬çš„è§£æå™¨ï¼Œç”±è§£æå™¨è¯†åˆ«å‡ºä»£ç ä¸­çš„å„ç±»çŸ­è¯­ï¼Œä¼šæ ¹æ®è¯­è¨€çš„æ–‡æ³•è§„åˆ™(rules of grammar)è¾“å‡ºè§£ææ ‘ï¼Œè¿™æ£µæ ‘æ˜¯å¯¹ä»£ç çš„æ ‘å½¢æè¿°ã€‚")]),t._v(" "),s("p",[t._v("æ–‡æ³•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæƒ³æƒ³æˆ‘ä»¬å­¦è‹±è¯­çš„è¿‡ç¨‹ä¸­ï¼Œè€å¸ˆæ˜¯å¦‚ä½•æ•™æˆ‘ä»¬åˆ’åˆ†å¥å­è§£æ„çš„ï¼Œæ¯”å¦‚ä¸€ä¸ªç®€å•çš„è‹±æ–‡è‡ªç„¶è¯­è¨€ä¾‹å­ï¼š")]),t._v(" "),s("p",[s("code",[t._v("Little girl eat apple")])]),t._v(" "),s("p",[t._v("å®ƒç”±ã€åè¯çŸ­è¯­ã€‘å’Œã€åŠ¨è¯çŸ­è¯­ã€‘ç»„æˆ, å†å¾€ä¸‹ã€åè¯çŸ­è¯­ã€‘ç”±ã€å½¢å®¹è¯ã€‘å’Œã€åè¯æ„æˆã€‘ï¼Œã€åŠ¨è¯çŸ­è¯­ã€‘ç”±ã€åŠ¨è¯ã€‘å’Œã€åè¯çŸ­è¯­ã€‘æ„æˆã€‚ã€åŠ¨è¯ã€‘å’Œã€åè¯ã€‘åˆå¯ä»¥ç”±å…·ä½“çš„å•è¯æ„æˆã€‚")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬ä¼šè§‰å¾—è¯­è¨€æè¿°å†—é•¿ï¼Œè€Œä¸”å¹¶ä¸ç›´è§‚ï¼Œå¯ä»¥å€ŸåŠ©ä¸€äº›ç¬¦å·è¿›è¡Œæè¿°:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("<å¥å­> -> <åè¯çŸ­è¯­><åŠ¨è¯çŸ­è¯­>\n\n<åè¯çŸ­è¯­> -> <å½¢å®¹è¯><åè¯>\n\n<åŠ¨è¯çŸ­è¯­> -> <åŠ¨è¯> <åè¯çŸ­è¯­>\n\n<å½¢å®¹è¯> -> little\n\n<åè¯> -> girl | apple\n\n<åŠ¨è¯> -> eat \n")])])]),s("p",[t._v("ç”¨<>åŒ…è£¹èµ·æ¥çš„éƒ¨åˆ†ç§°ä¸ºè¯­æ³•è§„åˆ™ï¼Œæœªç”¨<>åŒ…æ‹¬èµ·æ¥çš„éƒ¨åˆ†(å¦‚littleã€girlç­‰)ï¼Œå°±æ˜¯è¯¥è¯­è¨€çš„åŸºæœ¬ç¬¦å·ã€‚")]),t._v(" "),s("p",[t._v("ä»¥å‰åœ¨tokenåºåˆ—ä¸­æˆ‘ä»¬åªæœ‰ä¸€å¯¹()ï¼Œç°åœ¨æˆ‘ä»¬çŸ¥é“å®ƒæ˜¯å‡½æ•°è°ƒç”¨ã€å‡½æ•°å®šä¹‰ã€åˆ†ç»„è¿˜æ˜¯å…¶ä»–ä¸œè¥¿ã€‚")]),t._v(" "),s("p",[t._v("éœ€è¦æ³¨æ„çš„ä¸€ä»¶äº‹æ˜¯æ²¡æœ‰â€œå•ä¸€â€AST æ ¼å¼ã€‚å®ƒä»¬å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒï¼Œå…·ä½“å–å†³äºæ‚¨è¦è½¬æ¢ä¸º AST çš„è¯­è¨€ä»¥åŠæ‚¨ç”¨äºè§£æçš„å·¥å…·ã€‚åœ¨ JavaScript ä¸­ï¼Œä¸€ä¸ªé€šç”¨æ ‡å‡†æ˜¯"),s("a",{attrs:{href:"https://github.com/estree/estree",target:"_blank",rel:"noopener noreferrer"}},[t._v("ESTree"),s("OutboundLink")],1),t._v("ï¼Œä½†æ‚¨ä¼šçœ‹åˆ°ä¸åŒçš„å·¥å…·å¯èƒ½ä¼šæ·»åŠ å…¶ä»–å±æ€§ã€‚")]),t._v(" "),s("p",[t._v("ä¾‹å¦‚ï¼šç”¨"),s("code",[t._v("start/end")]),t._v("ç”¨äºè¡¨ç¤º"),s("code",[t._v("èµ·å§‹/ç»“æŸ")]),t._v("ä½ç½®")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Program"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"start"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"end"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"body"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ExpressionStatement"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"start"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"end"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"expression"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CallExpression"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"start"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"end"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"callee"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Identifier"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"start"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"end"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"isPanda"')]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"arguments"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Literal"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"start"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"end"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ğŸ¼"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"raw"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"'ğŸ¼'\"")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sourceType"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"module"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("ä¸€èˆ¬æ¥è¯´ï¼ŒAST æ˜¯ä¸€ç§æ ‘ç»“æ„ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹è‡³å°‘æœ‰ä¸€ä¸ªç±»å‹æ¥æŒ‡å®šå®ƒæ‰€ä»£è¡¨çš„å†…å®¹ã€‚ä¾‹å¦‚ï¼Œç±»å‹å¯ä»¥æ˜¯Literalè¡¨ç¤ºå®é™…å€¼çš„ a æˆ–CallExpressionè¡¨ç¤ºå‡½æ•°è°ƒç”¨çš„ aã€‚è¯¥LiteralèŠ‚ç‚¹å¯èƒ½åªåŒ…å«ä¸€ä¸ªå€¼ï¼Œè€Œè¯¥CallExpressionèŠ‚ç‚¹åŒ…å«è®¸å¤šå¯èƒ½ç›¸å…³çš„é™„åŠ ä¿¡æ¯ï¼Œä¾‹å¦‚â€œæ­£åœ¨è°ƒç”¨ä»€ä¹ˆâ€ï¼ˆcalleeï¼‰æˆ–argumentsæ­£åœ¨ä¼ é€’çš„æ˜¯ä»€ä¹ˆã€‚")]),t._v(" "),s("h3",{attrs:{id:"ä»£ç ç”Ÿæˆ-code-generation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»£ç ç”Ÿæˆ-code-generation"}},[t._v("#")]),t._v(" ä»£ç ç”Ÿæˆ(Code Generation)")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pan.udolphin.com/files/image/2021/11/e1c12f4eb0e8e4a201a8935d31b2a4f7.gif",alt:"code generation.gif"}})]),t._v(" "),s("p",[t._v("æ­¤æ­¥éª¤æœ¬èº«å¯ä»¥æ˜¯å¤šä¸ªæ­¥éª¤ã€‚ä¸€æ—¦æˆ‘ä»¬æœ‰äº†æŠ½è±¡è¯­æ³•æ ‘ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ“ä½œå®ƒï¼Œä¹Ÿå¯ä»¥å°†å®ƒâ€œæ‰“å°â€æˆä¸åŒç±»å‹çš„ä»£ç ã€‚ä½¿ç”¨ AST æ¥æ“ä½œä»£ç æ¯”ç›´æ¥åœ¨ä½œä¸ºæ–‡æœ¬æˆ–æ ‡è®°åˆ—è¡¨çš„ä»£ç ä¸Šæ‰§è¡Œè¿™äº›æ“ä½œæ›´å®‰å…¨ã€‚")]),t._v(" "),s("p",[t._v("æ“çºµæ–‡æœ¬æ€»æ˜¯å±é™©çš„ï¼›å®ƒæ˜¾ç¤ºäº†æœ€å°‘çš„ä¸Šä¸‹æ–‡ã€‚å¦‚æœæ‚¨æ›¾å°è¯•ä½¿ç”¨å­—ç¬¦ä¸²æ›¿æ¢æˆ–æ­£åˆ™è¡¨è¾¾å¼æ¥æ“ä½œæ–‡æœ¬ï¼Œæ‚¨å¯èƒ½ä¼šæ³¨æ„åˆ°å®ƒæ˜¯å¤šä¹ˆå®¹æ˜“å‡ºé”™ã€‚")]),t._v(" "),s("p",[t._v("å³ä½¿æ“çºµtokensä¹Ÿä¸å®¹æ˜“ã€‚è™½ç„¶æˆ‘ä»¬å¯èƒ½çŸ¥é“ä¸€ä¸ªå˜é‡æ˜¯ä»€ä¹ˆï¼Œä½†å¦‚æœæˆ‘ä»¬æƒ³é‡å‘½åå®ƒï¼Œæˆ‘ä»¬å°†æ— æ³•æ´å¯Ÿè¯¸å¦‚å˜é‡çš„èŒƒå›´æˆ–å®ƒå¯èƒ½ä¸ä¹‹å†²çªçš„ä»»ä½•å˜é‡ä¹‹ç±»çš„ä¸œè¥¿ã€‚")]),t._v(" "),s("p",[t._v("AST æä¾›äº†å…³äºä»£ç ç»“æ„çš„è¶³å¤Ÿä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æœ‰ä¿¡å¿ƒåœ°ä¿®æ”¹å®ƒã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šå˜é‡çš„å£°æ˜ä½ç½®ï¼Œå¹¶ç¡®åˆ‡çŸ¥é“ç”±äºæ ‘ç»“æ„è¿™ä¼šå½±å“ç¨‹åºçš„å“ªä¸ªéƒ¨åˆ†ã€‚")]),t._v(" "),s("h2",{attrs:{id:"babel-in-ast"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel-in-ast"}},[t._v("#")]),t._v(" babel in AST")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pan.udolphin.com/files/image/2021/11/a1de48dd0871793e2dd0f3a9c1ea5f5d.png",alt:"image.png"}})]),t._v(" "),s("p",[t._v("ä¸Šé¢é‚£å¹…å›¾å·²ç»æè¿°äº†Babelçš„å·¥ä½œæµç¨‹ï¼Œä¸‹é¢æˆ‘ä»¬å†è¯¦ç»†æè¿°ä¸€ä¸‹ã€‚Babel çš„ä¸‰ä¸ªä¸»è¦å¤„ç†æ­¥éª¤åˆ†åˆ«æ˜¯ï¼š è§£æï¼ˆparseï¼‰ï¼Œè½¬æ¢ï¼ˆtransformï¼‰ï¼Œç”Ÿæˆï¼ˆgenerateï¼‰ã€‚")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("è§£æ\nå°†ä»£ç è§£ææˆæŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰ï¼Œæ¯ä¸ªjså¼•æ“ï¼ˆæ¯”å¦‚Chromeæµè§ˆå™¨ä¸­çš„V8å¼•æ“ï¼‰éƒ½æœ‰è‡ªå·±çš„ASTè§£æå™¨ï¼Œè€ŒBabelæ˜¯é€šè¿‡Babylonå®ç°çš„ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("è½¬æ¢\nåœ¨è¿™ä¸ªé˜¶æ®µï¼ŒBabelæ¥å—å¾—åˆ°ASTå¹¶é€šè¿‡babel-traverseå¯¹å…¶è¿›è¡Œæ·±åº¦ä¼˜å…ˆéå†ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­å¯¹èŠ‚ç‚¹è¿›è¡Œæ·»åŠ ã€æ›´æ–°åŠç§»é™¤æ“ä½œã€‚è¿™éƒ¨åˆ†ä¹Ÿæ˜¯Babelæ’ä»¶ä»‹å…¥å·¥ä½œçš„éƒ¨åˆ†ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("ç”Ÿæˆ\nå°†ç»è¿‡è½¬æ¢çš„ASTé€šè¿‡babel-generatorå†è½¬æ¢æˆjsä»£ç ï¼Œè¿‡ç¨‹å°±æ˜¯æ·±åº¦ä¼˜å…ˆéå†æ•´ä¸ªASTï¼Œç„¶åæ„å»ºå¯ä»¥è¡¨ç¤ºè½¬æ¢åä»£ç çš„å­—ç¬¦ä¸²ã€‚")])])]),t._v(" "),s("h2",{attrs:{id:"å®æˆ˜å°ä¾‹å­"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®æˆ˜å°ä¾‹å­"}},[t._v("#")]),t._v(" å®æˆ˜å°ä¾‹å­")]),t._v(" "),s("h3",{attrs:{id:"ä¾‹å­1-å»debugger"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¾‹å­1-å»debugger"}},[t._v("#")]),t._v(" ä¾‹å­1: å»debugger")]),t._v(" "),s("p",[t._v("æºä»£ç ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'debugger'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("debugger")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("æ ¹æ®å‰é¢å­¦è¿‡çš„çŸ¥è¯†ç‚¹ï¼Œæˆ‘ä»¬å…ˆè„‘æµ·ä¸­æƒ³è±¡ä¸‹å¦‚ä½•å»æ‰è¿™ä¸ª"),s("code",[t._v("debugger")])]),t._v(" "),s("ol",[s("li",[t._v("å…ˆå°†æºä»£ç è½¬åŒ–æˆAST")]),t._v(" "),s("li",[t._v("éå†"),s("code",[t._v("AST")]),t._v("ä¸Šçš„èŠ‚ç‚¹ï¼Œæ‰¾åˆ°"),s("code",[t._v("debugger")]),t._v("èŠ‚ç‚¹ï¼Œå¹¶åˆ é™¤")]),t._v(" "),s("li",[t._v("å°†è½¬æ¢è¿‡çš„ASTå†ç”ŸæˆJSä»£ç ")])]),t._v(" "),s("p",[t._v("å°†æºä»£ç æ‹·è´åˆ° "),s("a",{attrs:{href:"https://astexplorer.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("åœ¨çº¿ ast è½¬æ¢å™¨"),s("OutboundLink")],1),t._v(" ä¸­ï¼Œå¹¶ç‚¹å‡»å·¦è¾¹åŒºåŸŸçš„"),s("code",[t._v("debugger")]),t._v("ï¼Œå¯ä»¥çœ‹åˆ°å·¦è¾¹çš„"),s("code",[t._v("debugger")]),t._v("èŠ‚ç‚¹å°±è¢«é€‰ä¸­äº†ã€‚æ‰€ä»¥åªè¦æŠŠå›¾ä¸­é€‰ä¸­çš„"),s("code",[t._v("debugger")]),t._v("æŠ½è±¡è¯­æ³•æ ‘èŠ‚ç‚¹"),s("code",[t._v("åˆ é™¤")]),t._v("å°±è¡Œäº†ã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://pan.udolphin.com/files/image/2021/11/bc6fc4a38891b5de3561d314ed1c087e.png",alt:"image.png"}})]),t._v(" "),s("p",[t._v("è¿™ä¸ªä¾‹å­æ¯”è¾ƒç®€å•ï¼Œç›´æ¥ä¸Šä»£ç ã€‚â€‹\nè¿™ä¸ªä¾‹å­æˆ‘ä½¿ç”¨"),s("code",[t._v("@babel/parser")]),t._v("ã€"),s("code",[t._v("@babel/traverse")]),t._v("ã€"),s("code",[t._v("@babel/generator")]),t._v("ï¼Œå®ƒä»¬çš„ä½œç”¨åˆ†åˆ«æ˜¯è§£æã€è½¬æ¢ã€ç”Ÿæˆã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" parser "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@babel/parser'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" traverse "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/traverse"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" generator "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/generator"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æºä»£ç ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" code "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\nfunction fn() {\n  console.log('debugger')\n  debugger;\n}\n")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. æºä»£ç è§£ææˆ ast")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ast "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" parser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("code"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. è½¬æ¢")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" visitor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// traverse ä¼šéå†æ ‘èŠ‚ç‚¹ï¼Œåªè¦èŠ‚ç‚¹çš„ type åœ¨ visitor å¯¹è±¡ä¸­å‡ºç°ï¼Œå˜åŒ–è°ƒç”¨è¯¥æ–¹æ³•")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("DebuggerStatement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ é™¤è¯¥æŠ½è±¡è¯­æ³•æ ‘èŠ‚ç‚¹")]),t._v("\n    path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ntraverse"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ast"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" visitor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3. ç”Ÿæˆ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" generator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ast"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" code"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4. æ—¥å¿—è¾“å‡º")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// function fn() {")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   console.log('debugger');")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n")])])]),s("p",[s("code",[t._v("babel")]),t._v("æ ¸å¿ƒé€»è¾‘å¤„ç†éƒ½åœ¨"),s("code",[t._v("visitor")]),t._v("é‡Œã€‚"),s("code",[t._v("traverse")]),t._v("ä¼šéå†æ ‘èŠ‚ç‚¹ï¼Œåªè¦èŠ‚ç‚¹çš„"),s("code",[t._v("type")]),t._v("åœ¨"),s("code",[t._v("visitor")]),t._v("å¯¹è±¡ä¸­å‡ºç°ï¼Œä¾¿ä¼šè°ƒç”¨è¯¥"),s("code",[t._v("type")]),t._v("å¯¹åº”çš„æ–¹æ³•ï¼Œåœ¨æ–¹æ³•ä¸­è°ƒç”¨"),s("code",[t._v("path.remove()")]),t._v("å°†å½“å‰èŠ‚ç‚¹åˆ é™¤ã€‚demoä¸­ä½¿ç”¨åˆ°çš„pathçš„ä¸€äº›apiå¯ä»¥å‚è€ƒ"),s("a",{attrs:{href:"https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("babel-handbook"),s("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),s("h3",{attrs:{id:"ä¾‹å­2-ä¸ºæ‰€æœ‰çš„å‡½æ•°æ·»åŠ é”™è¯¯æ•è·-å¹¶åœ¨æ•è·é˜¶æ®µå®ç°è‡ªå®šä¹‰çš„å¤„ç†æ“ä½œ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¾‹å­2-ä¸ºæ‰€æœ‰çš„å‡½æ•°æ·»åŠ é”™è¯¯æ•è·-å¹¶åœ¨æ•è·é˜¶æ®µå®ç°è‡ªå®šä¹‰çš„å¤„ç†æ“ä½œ"}},[t._v("#")]),t._v(" ä¾‹å­2: ä¸ºæ‰€æœ‰çš„å‡½æ•°æ·»åŠ é”™è¯¯æ•è·ï¼Œå¹¶åœ¨æ•è·é˜¶æ®µå®ç°è‡ªå®šä¹‰çš„å¤„ç†æ“ä½œ")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Before")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'23333'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'233 Error'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// => After")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™é‡Œåªèƒ½æ•è·åˆ°åŒæ­¥ä»£ç çš„æ‰§è¡Œé”™è¯¯")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    \n\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'23333'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'233 Error'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myError"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("throwMyError")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myError"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è‡ªå®šä¹‰å¤„ç†ï¼ˆegï¼šå‡½æ•°é”™è¯¯è‡ªåŠ¨ä¸ŠæŠ¥ï¼‰")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("åœ¨ç¼–ç ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆç†æ¸…æ€è·¯ï¼Œå†ä¸‹æ‰‹ä¹Ÿä¸è¿Ÿã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦å€ŸåŠ© "),s("a",{attrs:{href:"https://astexplorer.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("åœ¨çº¿ ast è½¬æ¢å™¨"),s("OutboundLink")],1),t._v(" æ¥åˆ†æäº†ã€‚")]),t._v(" "),s("p",[t._v("è½¬æ¢å‰ï¼š\n"),s("img",{attrs:{src:"https://pan.udolphin.com/files/image/2021/11/ef68124c07bd07111aed0c465e156661.png",alt:"image.png"}})]),t._v(" "),s("p",[t._v("è½¬æ¢åï¼š\n"),s("img",{attrs:{src:"https://pan.udolphin.com/files/image/2021/11/de26f09ce9d187f6cc3bac5c614342fe.png",alt:"image.png"}})]),t._v(" "),s("p",[t._v("æˆ‘ä»¬å…ˆæ¢³ç†ä¸€ä¸‹æ€è·¯ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("éå†"),s("code",[t._v("å‡½æ•°å£°æ˜ï¼ˆFunctionDeclarationï¼‰")]),t._v("èŠ‚ç‚¹ã€‚")]),t._v(" "),s("li",[t._v("æå–è¯¥èŠ‚ç‚¹ä¸‹æ•´ä¸ªä»£ç å—èŠ‚ç‚¹ï¼Œä½œä¸º "),s("code",[t._v("try")]),t._v(" è¯­å¥"),s("code",[t._v("ï¼ˆtryStatementï¼‰")]),t._v("å¤„ç†å—ä¸­çš„å†…å®¹ã€‚")]),t._v(" "),s("li",[t._v("æ„é€ ä¸€ä¸ªè‡ªå®šä¹‰çš„"),s("code",[t._v("catch")]),t._v("å­å¥"),s("code",[t._v("ï¼ˆcatchClauseï¼‰")]),t._v("èŠ‚ç‚¹ï¼Œä½œä¸º try å¼‚å¸¸å¤„ç†å—çš„å†…å®¹ã€‚")]),t._v(" "),s("li",[t._v("å°†æ•´ä¸ª try è¯­å¥èŠ‚ç‚¹ä½œä¸ºä¸€ä¸ªæ–°çš„å‡½æ•°å£°æ˜èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ï¼Œç”¨"),s("code",[t._v("æ–°ç”Ÿæˆçš„èŠ‚ç‚¹æ›¿æ¢åŸæœ‰çš„å‡½æ•°å£°æ˜èŠ‚ç‚¹")]),t._v("ã€‚")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" babylon "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"babylon"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" traverse "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"babel-traverse"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("default"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" generator "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"babel-generator"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("default"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" types "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"babel-types"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æºä»£ç ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" code "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\nfunction add(a, b) {\n\n    console.log('23333')\n  \n    throw new Error('233 Error')\n  \n    return a + b;\n  \n  }  \n")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. æºä»£ç è§£ææˆ ast")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ast "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" babylon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("code"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. è½¬æ¢")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" visitor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// traverse ä¼šéå†æ ‘èŠ‚ç‚¹ï¼Œåªè¦èŠ‚ç‚¹çš„ type åœ¨ visitor å¯¹è±¡ä¸­å‡ºç°ï¼Œå˜åŒ–è°ƒç”¨è¯¥æ–¹æ³•")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("FunctionDeclaration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" node "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" params"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" id "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‡½æ•°çš„å‚æ•°å’Œå‡½æ•°ä½“èŠ‚ç‚¹")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" blockStatementNode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å·²ç»æœ‰ try-catch å—çš„åœæ­¢éå†ï¼Œé˜²æ­¢ circle loop")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      blockStatementNode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n      types"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isTryStatement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("blockStatementNode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ„é€  cath å—èŠ‚ç‚¹")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºå‡½æ•°è°ƒç”¨è¯­å¥ï¼Œå‚æ•°æ˜¯myError")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" catchBlockStatement "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" types"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("blockStatement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      types"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("expressionStatement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        types"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callExpression")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("types"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("identifier")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"throwMyError"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          types"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("identifier")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myError"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// catch å­å¥èŠ‚ç‚¹")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åˆ›å»ºcatchåˆ†æ”¯ï¼Œå½¢å‚myError,å¹¶ä¼ å…¥catchBlockStatement")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" catchClause "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" types"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("catchClause")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      types"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("identifier")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myError"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      catchBlockStatement\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// try è¯­å¥èŠ‚ç‚¹")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åˆ›å»ºtryè¯­å¥ï¼Œä¼ å…¥blockStatementNodeå’ŒcatchClause")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" tryStatementNode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" types"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tryStatement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      blockStatementNode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      catchClause\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// try-catch èŠ‚ç‚¹ä½œä¸ºæ–°çš„å‡½æ•°å£°æ˜èŠ‚ç‚¹")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" tryCatchFunctionDeclare "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" types"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("functionDeclaration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      params"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      types"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("blockStatement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tryStatementNode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replaceWith")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tryCatchFunctionDeclare"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("traverse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ast"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" visitor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3. ç”Ÿæˆ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("generator")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ast"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" code"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("h2",{attrs:{id:"æ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),s("p",[t._v("æœ¬æ–‡ä»‹ç»äº†ä»€ä¹ˆæ˜¯ASTã€ASTæ˜¯æ€ä¹ˆç”Ÿæˆçš„ä»¥åŠASTå¯ä»¥ç”¨æ¥åšä»€ä¹ˆã€‚")]),t._v(" "),s("p",[t._v("æˆ–è®¸æˆ‘ä»¬çš„æ—¥å¸¸å·¥ä½œå’Œ AST æ‰“äº¤é“çš„æœºä¼šå¹¶ä¸å¤šï¼Œæ›´ä¸ä¼šåˆ»æ„åœ°å»å…³æ³¨è¯­è¨€åº•å±‚ç¼–è¯‘å™¨çš„åŸç†ï¼Œä½†äº†è§£ AST å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç†è§£æ—¥å¸¸å¼€å‘å·¥å…·çš„åŸç†ï¼Œæ›´è½»æ¾åœ°ä¸Šæ‰‹è¿™äº›å·¥å…·æš´éœ²çš„ APIã€‚")]),t._v(" "),s("p",[t._v("å·¥ä½œçš„æ¯ä¸€å¤©ï¼Œæˆ‘ä»¬çš„å–œæ€’å“€ä¹é€šè¿‡ä¸€è¡Œåˆä¸€è¡Œçš„ä»£ç å‘çœ¼å‰çš„æœºå™¨å€¾è¯‰ã€‚å®ƒåˆ°åº•æ˜¯æ€ä¹ˆè¯»æ‡‚ä½ çš„æƒ…æ„«ï¼Œåˆæ€ä¹ˆç»™äºˆä½ ç›¸åº”çš„å›åº”ï¼Œè¿™æ˜¯ä¸€ä»¶éå¸¸å€¼å¾—æ¢ç´¢çš„äº‹æƒ…ğŸ˜ƒ")])])}),[],!1,null,null,null);s.default=e.exports}}]);